{% extends "base.html" %} {% block title %}Order List{% endblock %} {% block
content %}
<style>
    body {
        font-family: Arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

    th,
    td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #f4f4f4;
    }

    input[type="text"] {
        margin-bottom: 10px;
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
    }
</style>
<h2>Searchable Table</h2>
<input type="text" id="searchInput" placeholder="Search in all columns..." onkeyup="searchTable()">
<table id="dataTable">
    <thead>
        <tr>
            <th>Order ID</th>
            <th>BDE Name</th>
            <th>CLient Name</th>
            <th>Wordcount</th>
            <th>Service</th>
            <th>Total INR</th>
            <th>Pending INR</th>

        </tr>
    </thead>
    <tbody>
        {% for order in orderes %}
        <tr>
            <td>{{order.order.orderNoID}}</td>
            {% if userdata.role.v == 4 or userdata.role.v == 3 %}
            <td>{{order.user.name}}</td>
            {% endif %}
            <td>{{order.clientName}}</td>
            <td>{{order.order.wordcount}}</td>
            <td>{{order.service}}</td>
            <td>{{order.order.totalorderamount}}</td>
            <td>{{order.pendingamount}}</td>
        </tr>
        {% endfor %}
        
    </tbody>
</table>
<script>
    function searchTable() {
        const input = document.getElementById("searchInput");
        const filter = input.value.toLowerCase();
        const table = document.getElementById("dataTable");
        const rows = table.getElementsByTagName("tr");

        for (let i = 1; i < rows.length; i++) {
            const cells = rows[i].getElementsByTagName("td");
            let match = false;

            for (let j = 0; j < cells.length; j++) {
                if (cells[j].textContent.toLowerCase().includes(filter)) {
                    match = true;
                    break;
                }
            }

            rows[i].style.display = match ? "" : "none";
        }
    }
</script>
{% endblock %}